<mvc:View
	controllerName="aisaas.ui.controller.Main"
	displayBlock="true"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:core="sap.ui.core"
	core:require="{ formatter:
	'aisaas/ui/model/formatter' }">

	<Page id="page" title="Inbox Insights" class="sapUiResponsivePadding--header">
        <headerContent></headerContent>
        <content>
            <l:Splitter>
                <l:FixFlex>
                    <l:layoutData><l:SplitterLayoutData size="15%"/></l:layoutData>
                    <l:fixContent/>
                    <l:flexContent>
                        <ScrollContainer width="100%" height="100%" horizontal="false" vertical="true"/>
                    </l:flexContent>
                </l:FixFlex>

                <l:FixFlex>
                    <l:layoutData><l:SplitterLayoutData size="20%"/></l:layoutData>
                    <l:fixContent/>
                    <l:flexContent>
                        <ScrollContainer width="100%" height="100%" horizontal="false" vertical="true">
                            <List id="emailsList" mode="SingleSelectMaster" noDataText="No Emails" items="{path: 'api>/Mails'}" selectionChange="onPressItem">
                                <CustomListItem>
                                    <VBox class="sapUiSmallMargin">
                                        <HBox justifyContent="SpaceBetween">
                                            <Label text="{api>sender}" wrapping="true"/>
                                            <Label text="{path: 'api>modifiedAt', formatter: 'formatter.formatDate'}" wrapping="true"/>
                                        </HBox>
										<HBox justifyContent="SpaceBetween" class="sapUiSmallMarginTop">
											<ObjectStatus
												inverted="true"
												text="{api>category}"
												state="Information"/>
                                            <ObjectStatus
                                                icon="sap-icon://high-priority"
                                                state="{path:'api>urgency', formatter:'formatter.getUrgencyState'}"
                                                active="false"/>
                                        </HBox>
                                        <VBox class="sapUiSmallMarginTop">
                                            <Title text="{api>subject}"/>
                                            <Text maxLines="2" text="{path:'api>body'}"/>
                                        </VBox>
                                    </VBox>
                                </CustomListItem>
                            </List>
                        </ScrollContainer>
                    </l:flexContent>
                </l:FixFlex>

                <l:FixFlex>
                    <l:layoutData><l:SplitterLayoutData size="auto"/></l:layoutData>
                    <l:fixContent/>
                    <l:flexContent>
                        <ScrollContainer width="100%" height="100%" horizontal="false" vertical="true">
							<VBox class="sapUiSmallMargin">
								<Title text="{emailModel>/subject}"/>
								<Text text="{emailModel>/body}"/>
							</VBox>
                        </ScrollContainer>
                    </l:flexContent>
                </l:FixFlex>
            </l:Splitter>
        </content>
    </Page>

</mvc:View>