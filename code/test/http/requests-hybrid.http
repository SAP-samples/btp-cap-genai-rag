@xsuaaHostname = https://sap-demo.authentication.eu10.hana.ondemand.com
@btpXsuaaClient = sb-aisaas-dev-sap-demo!t12345
@btpXsuaaSecret = abcd1234abcd1234abcd1234


### GET XSUAA TOKEN

# @name getXsuaaToken
POST {{xsuaaHostname}}/oauth/token
Accept: application/json
Content-Type: application/x-www-form-urlencoded
Authorization: Basic {{btpXsuaaClient}}:{{btpXsuaaSecret}}

client_id={{btpXsuaaClient}}
&client_secret={{btpXsuaaSecret}}
&grant_type=client_credentials

### EMBED
@token = {{getXsuaaToken.response.body.$.access_token}}

# @name embed
POST http://localhost:4004/catalog/PublicService/embed
content-type: application/json
Authorization: Bearer {{token}}

{
    "texts": [
    "Couples waltz gracefully across the dance floor, bathed in soft, romantic lighting.",
    "A blacksmith hammers a piece of glowing metal, sparks flying in all directions.",
    "The first snow of winter blankets the landscape in a serene, white quietness.",
    "The aroma of sizzling bacon and fresh coffee fills the kitchen on a lazy morning.",
    "A scientist makes a groundbreaking discovery, unlocking the mysteries of the universe."
  ]
}

### SIMILARITY SEARCH
@token = {{getXsuaaToken.response.body.$.access_token}}

# @name simSearch
POST http://localhost:4004/catalog/PublicService/simSearch
content-type: application/json
Authorization: Bearer {{token}}

{
    "text": "At the wedding, the dance floor came alive as the bride and groom swayed in each other's arms.",
    "k": 2
}


### ADD MAILS
@token = {{getXsuaaToken.response.body.$.access_token}}

# @name addMails
POST http://localhost:4004/catalog/PublicService/addMails
content-type: application/json
Authorization: Bearer {{token}}

{
    "mails": [
        "Dear Adi Pleyer, I am not very happy with the delivery I received from you. The motor is not reaching the desired speed and produces strange sounds. I would like to return the vehicle. Please let me know how I can give it back to you. Best regards, Kay"
  ]
}

### GET MAIL
@token = {{getXsuaaToken.response.body.$.access_token}}
@id = {{addMails.response.body.$.value[0].id}}

# @name getMail
GET http://localhost:4004/catalog/PublicService/getMail(id={{id}})
content-type: application/json
Authorization: Bearer {{token}}